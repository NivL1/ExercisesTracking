<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Add Exercise</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
    <link rel="stylesheet" href="./css/jquery.mobile-1.4.5.min.css">
    <link rel="stylesheet" href="../assets/css/jqm-demos.css">
    <script src="./js/jquery.js"></script>
    <script src="./js/index.js"></script>
    <script src="./js/jquery.mobile-1.4.5.min.js"></script>
    <title>Title</title>

</head>

<body>
<form>
    <h1>Add Exercise</h1>

    <label for="type-train" class="select">Select type of train:</label>
    <select id="type-train" data-native-menu="false">
            <option>Select type of train</option>
            <option value="aerobic" onclick="aerobicClicked()">Aerobic</option>
        <option value="anaerobic">Anaerobic</option>
            <option value="anaerobic-w">Anaerobic - Weightlifting</option>
    </select>



    <div id="div-type-exercise">

    </div>

    <div id="div-check-box-1">

    </div>

    <div id="div-input-time">

    </div>

    <div id="div-check-box-2">

    </div>

    <div id="div-input-distance">

    </div>

    <input type="button" value="Add Exercise" onclick="appendToList()"/>



    <div data-role="footer" data-position="fixed" data-theme="a">


        <div data-role="navbar">
            <ul>
                <li><a href="main.html" data-prefetch="true" data-transition="fade">Main</a></li>
                <li><a href="addExercise.html" data-prefetch="true" data-transition="flip">Add Exercise</a></li>
                <li><a href="stats.html" data-prefetch="true" data-transition="turn">Statistics</a></li>
            </ul>
        </div><!-- /navbar -->

    </div><!-- /footer -->

</form>

<script>
        $(document).ready(function() {

            $('#type-train').on('change', function (e) {
                var optionSelected = $("option:selected", this);
                var valueSelected = this.value;
                if (valueSelected === "aerobic") {
                    $("#div-type-exercise").empty();
                    $("#div-type-exercise").append("<label for=\"type-exercise\" class=\"select\">Select type of exercise:</label>" +
                        "<select id='type-exercise' data-native-menu='false' onchange='onExerciseChange()'>" +
                        "<option>Select Type</option>\n"+
                        "<option value=\"running\">Running</option>\n" +
                        "<option value=\"walking\">Walking</option>\n" +
                        "<option value=\"swimming\">Swimming</option>\n" +
                        "<option value=\"cycling\">Cycling</option>\n" +
                        "<option value=\"boxing\">Boxing</option></select>")
                }
                if (valueSelected === "anaerobic"){
                    $("#div-type-exercise").empty();
                    $("#div-type-exercise").append("<label for=\"type-exercise\" class=\"select\">Select type of exercise:</label>" +
                        "<select id='type-exercise' data-native-menu='false' onchange='onExerciseChange()'>" +
                        "<option>Select Type</option>\n"+
                        "<option value=\"running\">Pushups</option>\n" +
                        "<option value=\"walking\">Situps</option>\n" +
                        "<option value=\"swimming\">Pull-ups</option>\n" +
                        "<option value=\"cycling\">Squats</option></select>")
                }
                if (valueSelected === "anaerobic-w"){
                    $("#div-type-exercise").empty();
                    $("#div-type-exercise").append("<label for=\"type-exercise\" class=\"select\">Select type of exercise:</label>" +
                        "<select id='type-exercise' data-native-menu='false' onchange='onExerciseChange()'>"+
                        "<option>Select Type</option>\n"+
                        "<option value=\"bench-press\">Bench press</option>\n"+
                        "<option value=\"overhead-press\">Overhead press</option>\n" +
                        "<option value=\"push-press\">Push press</option>\n" +
                        "<option value=\"deadlift\">Deadlift</option></select>")
                }

                $("#div-type-exercise").enhanceWithin(); //refresh style

            })

        })
        function onExerciseChange(){
            $("#div-check-box-1").empty();
            $("#div-check-box-2").empty();
            $("#div-check-box-1").append("<label><input id=\"cb-time\" type=\"checkbox\" onclick='onClickTime()' data-tt-lable=\"add distance\"/>Add time</label>");
            $("#div-check-box-2").append("<label><input id=\"cb-distance\" type=\"checkbox\" onclick='onClickDistance()' data-tt-lable=\"add distance\"/>Add distance</label>");
            $("#div-check-box-1").enhanceWithin(); //refresh style
            $("#div-check-box-2").enhanceWithin(); //refresh style
        }

        function onClickTime(){
            if( $('#cb-time').is(":checked") ) {
                $("#div-input-time").append("<input id='input-time' type='number'/>");
                $("#div-input-time").enhanceWithin();
            }
            else $("#input-time").remove();
        }

        function onClickDistance(){
            if( $('#cb-distance').is(":checked") ) {
                $("#div-input-distance").append("<input id='input-distance' type='number'/>");
                $("#div-input-distance").enhanceWithin();
            }
            else $("#input-distance").remove();
        }

        // function appendToList() {
        //     $("#select-choice-a").append("<option value='rush'>nuuuuuu</option>");
        //     $("#select-choice-a").selectmenu('refresh', true);
        //     console.log($("#select-choice-a").value);
        // }


    </script>

</body>
</html>